<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{common/layout}">

<head>
  <meta charset="UTF-8" th:remove="tag">
  <!-- タイトルを入力 -->
  <title>投稿一覧</title>
  <!-- 個別CSS -->
  <link rel="stylesheet" th:href="@{/css/board/modal_window.css}">
</head>

<body>
  <!-- 個別コンテンツ -->
  <th:block layout:fragment="content">
    <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
      <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h2>投稿一覧</h2><br>

        <!-- 新規投稿の入力画面 -->
        <section id="modal" class="hidden">
          <form th:action="@{/post/newPost}" th:object="${newPostForm}" method="post">
            <input type="textarea" name="contents" th:value="${contents}">
            <input type="hidden" name="boardId" th:value="${boardId}">
            <input type="hidden" name="userId" th:value=${session.user.id}>
            <button type="submit">送信</button>
          </form>
          <div id="close">
            閉じる
          </div>
        </section>

        <div id="open">
          新規投稿を行う
        </div>

        <div id="mask" class="hidden">
        </div>

      </div>

      <!-- 削除完了メッセージ -->
      <h5 th:if="${successMessage}" th:text="${successMessage}" style="color: blue;"></h5>
      <!-- エラーメッセージ -->
      <h5 th:if="${errorMessage}" th:text="${errorMessage}" style="color: red;"></h5>

      <!-- 投稿リストの呼び出し -->
      <div th:replace="common/postList :: postList"></div>
    </main>
  </th:block>

  <!-- 個別JS -->
  <th:block layout:fragment="javascript">
    <script th:src="@{/js/modal_window.js}"></script>
  </th:block>

</body>

</html>
